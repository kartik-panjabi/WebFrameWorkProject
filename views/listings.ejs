<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/style.css">

    <title>Listings</title>
</head>
<body>
    <%- include('partials/header') %>

    <h1>Search and Filter Listings</h1>

    <form action="/listings" method="get" class="form-inline">
        <label for="min_price">Min Price:</label>
        <input type="number" id="min_price" name="min_price" min="0"><br><br>

        <label for="max_price">Max Price:</label>
        <input type="number" id="max_price" name="max_price" min="0"><br><br>

        <label for="type">Type:</label>
        <select id="type" name="type">
            <option value="">Any</option>
            <option value="House">House</option>
            <option value="Apartment">Apartment</option>
            <option value="Condominium">Condominium</option>
        </select><br><br>

        <button type="submit">Search</button>
    </form>
    
    <!-- Display Listings -->
    <h2>Results</h2>
    <div>
        <% airbnbs.forEach(airbnb => { %>
            <div>
                <h3><%= airbnb.name %></h3>
                <p>Price: $<%= airbnb.price %> per night</p>
                <p>Type: <%= airbnb.property_type %></p>
                <p><%= airbnb.description %></p>
            </div>
        <% }) %>
    </div>
</body>
</html>